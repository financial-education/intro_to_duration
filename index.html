<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-02-03 Thu 14:44 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>An Introduction to Duration</title>
<meta name="author" content="Matt Brigida, Ph.D." />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">An Introduction to Duration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgc30b83f">1. Duration</a></li>
<li><a href="#orgb8f5cda">2. Duration is Approximate</a></li>
<li><a href="#org56df0e8">3. Determinants of Duration</a></li>
<li><a href="#orga85f538">4. Average of Time Payments are Received</a></li>
<li><a href="#org1a2a778">5. Interactive App</a></li>
<li><a href="#org33ad94b">6. Calculating Duration</a></li>
<li><a href="#org68d9749">7. Using Duration</a></li>
<li><a href="#org9526e2d">8. Macaulay Duration</a></li>
<li><a href="#orgcb0222c">9. Macaulay Duration</a></li>
<li><a href="#org8248b5a">10. Modified Duration</a></li>
<li><a href="#org48bca1e">11. Simple Example</a></li>
<li><a href="#org034f1dd">12. Now You Try</a></li>
<li><a href="#org96c800d">13. Using Modified Duration</a></li>
<li><a href="#org1ededc5">14. Improving on Duration</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgc30b83f" class="outline-2">
<h2 id="orgc30b83f"><span class="section-number-2">1.</span> Duration</h2>
<div class="outline-text-2" id="text-1">
<p>
Duration is a measure of interest-rate risk. Or, stated differently, duration is a measure of how sensitive the price of a fixed-income insturment is to interest-rate changes.
</p>

<p>
When we say, "The duration of the bond is 4 years," we mean:
</p>

<ul class="org-ul">
<li>"If the interest rate on the bond goes up by 1%, the bond's price will decline by 4%."</li>
</ul>

<p>
Duration is quoted in "years."  
</p>

<ul class="org-ul">
<li>If a bond has a semi-annual period, we convert duration to years before quoting it (a duration of 8 semi-annual periods is 4 years).</li>
</ul>
</div>
</div>

<div id="outline-container-orgb8f5cda" class="outline-2">
<h2 id="orgb8f5cda"><span class="section-number-2">2.</span> Duration is Approximate</h2>
<div class="outline-text-2" id="text-2">
<p>
Duration is a linear approximation of a nonlinear relationship.
</p>

<ul class="org-ul">
<li>Duration is more accurate as the change in the interest rate becomes smaller.</li>
<li>The error when using duration to estimate a bond's sensitivity to interest rates is often called [*convexity*](<a href="https://micfm.shinyapps.io/convexity/">https://micfm.shinyapps.io/convexity/</a>).</li>
</ul>
</div>
</div>

<div id="outline-container-org56df0e8" class="outline-2">
<h2 id="org56df0e8"><span class="section-number-2">3.</span> Determinants of Duration</h2>
<div class="outline-text-2" id="text-3">
<p>
Duration is affected by the bond's coupon rate, yield to maturity, and the amount of time to maturity.
</p>

<ul class="org-ul">
<li>Duration is inversely related to the bond's coupon rate.</li>
<li>Duration is inversely related to the bond's yield to maturity (YTM).</li>
<li>Duration can increase or decrease given an increase in the time to maturity (but it usually increases). You can look at this relationship in the upcoming interactive 3D app.</li>
</ul>

<p>
For a review of bond coupon rates and yields see these presentations: [An Introduction to Bond Valuation](<a href="https://micfm.shinyapps.io/intro_bond_valuation">https://micfm.shinyapps.io/intro_bond_valuation</a>); [For What is the Yield-to-Maturity Used?](<a href="https://micfm.shinyapps.io/For_What_YTM_Used/">https://micfm.shinyapps.io/For_What_YTM_Used/</a>).
</p>
</div>
</div>

<div id="outline-container-orga85f538" class="outline-2">
<h2 id="orga85f538"><span class="section-number-2">4.</span> Average of Time Payments are Received</h2>
<div class="outline-text-2" id="text-4">
<p>
Duration can be thought of as the weighted average of when the bondholder receives payment.  The weights are the proportion of the bond's total value received in each period. 
</p>

<ul class="org-ul">
<li>In the following app, change the bond's coupon, YTM, and maturity and see how it affects the weights.  Check that the way the weights react is consistent with the previous relationships.</li>

<li>This will give you an intuitive understanding of how these variables affect duration.</li>
</ul>

<iframe src="https://micfm.shinyapps.io/duration_app1/" width="100%" height="100%"></iframe>
</div>
</div>



<div id="outline-container-org1a2a778" class="outline-2">
<h2 id="org1a2a778"><span class="section-number-2">5.</span> Interactive App</h2>
<div class="outline-text-2" id="text-5">
<p>
With the following app, you can set the maximum yield-to-maturity, and time to maturity, and see the resulting 3D duration surface.  You can also change the coupon rate and see the effect on the duration surface.
</p>

<ul class="org-ul">
<li>You can move the 3D surface around, and zoom in and out, with your mouse.</li>

<li>How does increasing the yield-to-maturity, or time to maturity, affect the bond's duration?</li>

<li>How does increasing the bond's coupon rate affect duration?</li>

<li>Can you see the case where duration is decreasing with an increased time to maturity?</li>
</ul>

<iframe src="https://micfm.shinyapps.io/duration_app2/" width="100%" height="100%"></iframe>
</div>
</div>

<div id="outline-container-org33ad94b" class="outline-2">
<h2 id="org33ad94b"><span class="section-number-2">6.</span> Calculating Duration</h2>
<div class="outline-text-2" id="text-6">
<p>
Duration is the slope of the line tangent to the bond's price at the bond's present YTM.  
</p>

<ul class="org-ul">
<li>Remembering our calculus, we immediately see we need to calculate the derivative of the bond's price with respect to the YTM. See [this video](<a href="https://www.youtube.com/watch?v=B2lYw4HJU-I">https://www.youtube.com/watch?v=B2lYw4HJU-I</a>) for a complete derivation.</li>
</ul>

<p>
However, it is customary to first calculate what is called Maucaulay Duration, and then use this to calculate Modified Duration.
</p>

<ul class="org-ul">
<li>Modified Duration is equivalent to the derivative of the bond's price with respect to the YTM.</li>

<li>Once we have Modified Duration, we can use it to calculate the bond's price (or \% change) given a change in YTM.</li>
</ul>
</div>
</div>



<div id="outline-container-org68d9749" class="outline-2">
<h2 id="org68d9749"><span class="section-number-2">7.</span> Using Duration</h2>
<div class="outline-text-2" id="text-7">
<p>
Specifically, the common steps in calculating and using duration are: 
</p>

<ol class="org-ol">
<li>Calculate 'Macaulay Duration' which is the weighted average of when the bondholder receives their payments.</li>

<li>Divide this by \((1 + YTM)\) to get Modified Duration (which is the derivative).</li>

<li>Calculate the percent change in the bond's price as a linear function of modified duration.</li>
</ol>
</div>
</div>



<div id="outline-container-org9526e2d" class="outline-2">
<h2 id="org9526e2d"><span class="section-number-2">8.</span> Macaulay Duration</h2>
<div class="outline-text-2" id="text-8">
<p>
Let \(BP\) be the bond price, \(CF_i\) the cash flow from the bond in period \(i\), and \(n\) the number of periods until maturity. Say the par value is \$1000.  Then Macaulay Duration is:
</p>

<p>
\(Macaulay\ Duration = \sum_{i = 1}^n {(i)\frac{\left(\frac{CF_i}{(1+YTM)^i}\right)}{BP}}\)
</p>

<p>
Note that since \(BP = \sum_{i = 1}^n {\frac{CF_i}{(1+YTM)^i}}\) the second term in the summation is the proportion of the bond received at time \(i\).  These are weights (and sum to 1). Denoting them \(w_i\) we have:
</p>

<p>
\(Macaulay\ Duration = \sum_{i = 1}^n {(i)w_i}\)
</p>
</div>
</div>



<div id="outline-container-orgcb0222c" class="outline-2">
<h2 id="orgcb0222c"><span class="section-number-2">9.</span> Macaulay Duration</h2>
<div class="outline-text-2" id="text-9">
<p>
From our definition above, we can make the following observations:
</p>

<ul class="org-ul">
<li>Duration cannot exceed the number of periods to maturity of the bond.</li>
<li>The Duration of a zero-coupon bond is the number of years until maturity.</li>
</ul>

<p>
Also note, we can calculate the duration of a bond portfolio as the weighted average of the duration of all of the individual the bonds in the portfolio.
</p>
</div>
</div>



<div id="outline-container-org8248b5a" class="outline-2">
<h2 id="org8248b5a"><span class="section-number-2">10.</span> Modified Duration</h2>
<div class="outline-text-2" id="text-10">
<p>
As mentioned above, Macaulay Duration is a bit different than the derivative value we want.  We can adjust it by dividing it by \((1+YTM)\).  
</p>

<p>
The result (Modified Duration) then matches the derivative of the bond's price with respect to YTM.
</p>

<p>
\(Modified\ Duration = \frac{Maucaulay\ Duration}{(1+YTM)}\)
</p>
</div>
</div>



<div id="outline-container-org48bca1e" class="outline-2">
<h2 id="org48bca1e"><span class="section-number-2">11.</span> Simple Example</h2>
<div class="outline-text-2" id="text-11">
<p>
Say we have a 5% coupon bond with annual payments and 8 years until maturity.  Let the bond's YTM be 3%.  
</p>

<p>
The bond's price is: $P = \$50\frac{1-1/(1.03)^8}{0.03} + \frac{\$1000}{(1.03)^8} = \\(1140.39\)
</p>

<p>
$Macaulay\ Duration = &sum;<sub>i = 1</sub><sup>7</sup> {(i)\frac{\left(\frac{50}{(1.03)^i}\right)}{\$1140.39}} + 8\frac{\left(\frac{1050}{1.03^8}\right)}{\\(1140.39} = 6.87\ yrs\)
</p>

<p>
\(Modified\ Duration = \frac{6.87}{1.03} = 6.67\ yrs\)
</p>
</div>
</div>



<div id="outline-container-org034f1dd" class="outline-2">
<h2 id="org034f1dd"><span class="section-number-2">12.</span> Now You Try</h2>
<div class="outline-text-2" id="text-12">
<p>
Calculate the Macaulay and Modified Durations for the following bonds.  You can check your answers with the interactive app on the following slide. All bonds have annual payments in the interactive app.
</p>

<ul class="org-ul">
<li>A 15\% coupon bond with 20 years to maturity and a 3\% YTM.</li>

<li>A 4\% coupon bond with 10 years to maturity and a 7\% YTM.</li>

<li>A 0\% coupon bond with 10 years to maturity and a 2\% YTM.</li>
</ul>

<p>
You can also use the following app to see duration decrease when maturity increases.
</p>

<ul class="org-ul">
<li>Set the coupon to 3\%, the YTM to 18\%, and increase years to maturity from 17.</li>
</ul>

<iframe src="https://micfm.shinyapps.io/duration_app3/" width="100%" height="100%"></iframe>
</div>
</div>


<div id="outline-container-org96c800d" class="outline-2">
<h2 id="org96c800d"><span class="section-number-2">13.</span> Using Modified Duration</h2>
<div class="outline-text-2" id="text-13">
<p>
We use Modified Duration to approximate the change in the bond's price for a give change in yield.  In terms of percent, we can say:
</p>

<p>
\(\%\Delta P = -(Modified\ Duration) \Delta YTM\)
</p>

<ul class="org-ul">
<li>For example, if a bond has a Modified Duration of 8, then given a 0.5% increase in yield, the bond is expected to decline by 4\%.</li>
</ul>

<p>
\(\%\Delta P = -8(0.5\%) = 4\%\)
</p>
</div>
</div>



<div id="outline-container-org1ededc5" class="outline-2">
<h2 id="org1ededc5"><span class="section-number-2">14.</span> Improving on Duration</h2>
<div class="outline-text-2" id="text-14">
<p>
If we want to improve our estimate of the \% change in the bond's price, we can add a convexity adjustment.
&lt;!&#x2013; put above &#x2013;&gt;
</p>
<ul class="org-ul">
<li>This is covered in the 5MinuteFinance interactive presentation on [Bond Convexity](<a href="https://micfm.shinyapps.io/convexity/">https://micfm.shinyapps.io/convexity/</a>).</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Matt Brigida, Ph.D.</p>
<p class="date">Created: 2022-02-03 Thu 14:44</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
